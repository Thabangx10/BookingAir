{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  data() {\n    return {\n      selectedDepartureCity: '',\n      selectedArrivalCity: '',\n      selectedDepartureDate: '',\n      searchedFlights: [],\n      userID: '',\n      flightsID: ''\n    };\n  },\n  computed: {\n    // Map the 'authenticated' getter from Vuex store to a computed property\n    ...mapGetters(['authenticated']),\n    // Get the list of flights from the Vuex store\n    flights() {\n      const flights = this.$store.state.flights;\n      console.log('flights:', flights);\n      return flights;\n    },\n    formatDate() {\n      return function (date) {\n        const d = new Date(date);\n        return d.toLocaleDateString('en-US', {\n          month: 'long',\n          day: 'numeric',\n          year: 'numeric'\n        });\n      };\n    },\n    DepartureCities() {\n      const DepartureCities = new Set();\n      for (const flight of this.flights) {\n        DepartureCities.add(flight.DepartureCity);\n      }\n      return Array.from(DepartureCities);\n    },\n    ArrivalCities() {\n      const ArrivalCities = new Set();\n      for (const flight of this.flights) {\n        ArrivalCities.add(flight.ArrivalCity);\n      }\n      return Array.from(ArrivalCities);\n    }\n  },\n  methods: {\n    searchFlights() {\n      this.searchedFlights = this.flights.filter(flight => {\n        return flight.DepartureCity === this.selectedDepartureCity && flight.ArrivalCity === this.selectedArrivalCity;\n      });\n    },\n    bookFlight(flight) {\n      // Set the booked flight in the Vuex store\n      this.$store.commit('bookFlight', flight);\n      // Redirect the user to the booking confirmation page\n      this.$router.push(\"/cart\");\n    }\n  },\n  created() {\n    console.log('authenticated:', this.authenticated);\n    // Fetch the list of flights from the Vuex store\n    this.$store.dispatch('fetchFlights');\n  }\n};","map":{"version":3,"names":["mapGetters","data","selectedDepartureCity","selectedArrivalCity","selectedDepartureDate","searchedFlights","userID","flightsID","computed","flights","$store","state","console","log","formatDate","date","d","Date","toLocaleDateString","month","day","year","DepartureCities","Set","flight","add","DepartureCity","Array","from","ArrivalCities","ArrivalCity","methods","searchFlights","filter","bookFlight","commit","$router","push","created","authenticated","dispatch"],"sources":["C:\\Users\\Thabang\\BookingAir\\ui\\src\\components\\Flights.vue"],"sourcesContent":["<template>\r\n  <body>\r\n    <div>\r\n      <h2 class=\"text-center animate__animated animate__zoomIn\">Flight Booking</h2>\r\n      <form class=\"flight-form\" @submit.prevent=\"searchFlights\">\r\n        <div class=\"col-md-6 form-group\">\r\n          <label for=\"departure\">Departure</label>\r\n          <select v-model=\"selectedDepartureCity\">\r\n            <option value=\"\">From:</option>\r\n            <option v-for=\"DepartureCity in DepartureCities\" :key=\"DepartureCity\">{{ DepartureCity }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-md-6 form-group\">\r\n          <label for=\"destination\">Destination</label>\r\n          <select v-model=\"selectedArrivalCity\">\r\n            <option value=\"\">To:</option>\r\n            <option v-for=\"ArrivalCity in ArrivalCities\" :key=\"ArrivalCity\">{{ ArrivalCity }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n          <button v-if=\"authenticated\" class=\"search\">Search Flights</button>\r\n          <div v-else>\r\n            <router-link to=\"/registration\"><button class=\"search\">Login to Search</button></router-link>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <div v-if=\"searchedFlights.length > 0\">\r\n        <h3>Available Flights</h3>\r\n        <div class=\"card\" v-for=\"flight in searchedFlights\" :key=\"flight.id\">\r\n          <div class=\"flight-details\">\r\n            <p class=\"flight-route\">{{ flight.DepartureCity }} to {{ flight.ArrivalCity }}</p>\r\n            <div class=\"flight-timings\">\r\n              <p class=\"departure-time\">Departure: {{ formatDate(flight.DepartureDate) }}, <br> Time: {{ flight.DepartureTime }}</p>\r\n              <p class=\"arrival-time\">Arrival: {{ formatDate(flight.ArrivalDate) }}, <br> Time: {{ flight.ArrivalTime }}</p>\r\n            </div>\r\n            <p class=\"flight-price\">Price: {{ flight.Price }}</p>\r\n            <button class=\"book-button\" @click=\"bookFlight(flight)\">Book Now</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <img src=\"https://i.postimg.cc/VNSRJnww/output-onlinegiftools.gif\" alt=\"\" class=\"loop-animation\">\r\n    </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedDepartureCity: '',\r\n      selectedArrivalCity: '',\r\n      selectedDepartureDate: '',\r\n      searchedFlights: [],\r\n      userID: '',\r\n      flightsID: ''\r\n    };\r\n  },\r\n  computed: {\r\n        // Map the 'authenticated' getter from Vuex store to a computed property\r\n        ...mapGetters(['authenticated']),\r\n    // Get the list of flights from the Vuex store\r\n    flights() {\r\n  const flights = this.$store.state.flights;\r\n  console.log('flights:', flights);\r\n  return flights;\r\n},\r\nformatDate() {\r\n    return function(date) {\r\n      const d = new Date(date);\r\n      return d.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });\r\n    };\r\n  },\r\n    DepartureCities() {\r\n      const DepartureCities = new Set();\r\n      for (const flight of this.flights) {\r\n        DepartureCities.add(flight.DepartureCity);\r\n      }\r\n      return Array.from(DepartureCities);\r\n    },\r\n    ArrivalCities() {\r\n      const ArrivalCities = new Set();\r\n      for (const flight of this.flights) {\r\n        ArrivalCities.add(flight.ArrivalCity);\r\n      }\r\n      return Array.from(ArrivalCities);\r\n    },\r\n  },\r\n  methods: {\r\n    searchFlights() {\r\n      this.searchedFlights = this.flights.filter(flight => {\r\n        return (\r\n          flight.DepartureCity === this.selectedDepartureCity &&\r\n          flight.ArrivalCity === this.selectedArrivalCity\r\n        );\r\n      });\r\n    },\r\n    bookFlight(flight) {\r\n  // Set the booked flight in the Vuex store\r\n  this.$store.commit('bookFlight', flight);\r\n  // Redirect the user to the booking confirmation page\r\n  this.$router.push(\"/cart\");\r\n}\r\n  },\r\n  created() {\r\n    console.log('authenticated:', this.authenticated);\r\n    // Fetch the list of flights from the Vuex store\r\n    this.$store.dispatch('fetchFlights');\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  <style scoped>\r\n\r\n\r\n.card {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  margin-top: 50px;\r\n  background-color: #f1f1f1;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.flight-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.flight-route {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  margin: 0;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.flight-timings {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.departure-time, .arrival-time {\r\n  font-size: 16px;\r\n  font-weight: 800;\r\n  margin: 0;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.flight-price {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  margin: 10px 0;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.book-button {\r\n  background-color:  #21507e;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 10px 20px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.book-button:hover {\r\n  background-color: #21467c;\r\n}\r\n\r\n  \r\nh2{\r\n  font-size: 4rem;\r\n  padding-top: 30px;\r\n  color: rgb(27, 61, 102);\r\n}\r\n\r\n.flight-form {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  margin-top: 50px;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.flight-form h2 {\r\n  margin-top: 0;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.form-group {\r\n  width: 49%;\r\n  margin-bottom: 20px;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.form-group label {\r\n  font-weight: bold;\r\n}\r\n.form-group input, .form-group select {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #21507e;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  letter-spacing: 0.1rem;\r\n}\r\n\r\n.search:hover {\r\n  background-color: #21467c;\r\n}\r\n\r\n  h1 {\r\n    font-size: 6rem;\r\n    font-family: 'Concert One', cursive;\r\n    color: black;\r\n  }\r\n  \r\n  body{\r\n    height: 100vh; \r\n    width: 100%; \r\n    overflow: hidden;\r\n  background: radial-gradient(circle, rgba(248,248,248,1) 0%,  rgb(193, 210, 232)100%);\r\n  font-family: 'Black Mango Medium';\r\n  letter-spacing: 0.1rem;\r\n  }\r\n  \r\n  .clean {\r\n    position: relative;\r\n    width: 100%;\r\n  }\r\n  \r\n  .fade-top {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 20%;\r\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff);\r\n  }\r\n  \r\n  .clean img {\r\n    width: 100%;\r\n  }\r\n  \r\n  .loop-animation {\r\n    animation: loop 8s linear infinite;\r\n    width: 200px;\r\n    /* filter: brightness(0) invert(1); */\r\n  }\r\n  \r\n  @keyframes loop {\r\n    0% {\r\n      transform: translateX(-350%);\r\n    }\r\n    100% {\r\n      transform: translateX(400%);\r\n    }\r\n  }\r\n  </style>\r\n  "],"mappings":";AAgDA,SAASA,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,qBAAqB,EAAE,EAAE;MACzBC,mBAAmB,EAAE,EAAE;MACvBC,qBAAqB,EAAE,EAAE;MACzBC,eAAe,EAAE,EAAE;MACnBC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACJ;IACA,GAAGR,UAAU,CAAC,CAAC,eAAe,CAAC,CAAC;IACpC;IACAS,OAAOA,CAAA,EAAG;MACZ,MAAMA,OAAM,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,OAAO;MACzCG,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEJ,OAAO,CAAC;MAChC,OAAOA,OAAO;IAChB,CAAC;IACDK,UAAUA,CAAA,EAAG;MACT,OAAO,UAASC,IAAI,EAAE;QACpB,MAAMC,CAAA,GAAI,IAAIC,IAAI,CAACF,IAAI,CAAC;QACxB,OAAOC,CAAC,CAACE,kBAAkB,CAAC,OAAO,EAAE;UAAEC,KAAK,EAAE,MAAM;UAAEC,GAAG,EAAE,SAAS;UAAEC,IAAI,EAAE;QAAU,CAAC,CAAC;MAC1F,CAAC;IACH,CAAC;IACCC,eAAeA,CAAA,EAAG;MAChB,MAAMA,eAAc,GAAI,IAAIC,GAAG,EAAE;MACjC,KAAK,MAAMC,MAAK,IAAK,IAAI,CAACf,OAAO,EAAE;QACjCa,eAAe,CAACG,GAAG,CAACD,MAAM,CAACE,aAAa,CAAC;MAC3C;MACA,OAAOC,KAAK,CAACC,IAAI,CAACN,eAAe,CAAC;IACpC,CAAC;IACDO,aAAaA,CAAA,EAAG;MACd,MAAMA,aAAY,GAAI,IAAIN,GAAG,EAAE;MAC/B,KAAK,MAAMC,MAAK,IAAK,IAAI,CAACf,OAAO,EAAE;QACjCoB,aAAa,CAACJ,GAAG,CAACD,MAAM,CAACM,WAAW,CAAC;MACvC;MACA,OAAOH,KAAK,CAACC,IAAI,CAACC,aAAa,CAAC;IAClC;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACd,IAAI,CAAC3B,eAAc,GAAI,IAAI,CAACI,OAAO,CAACwB,MAAM,CAACT,MAAK,IAAK;QACnD,OACEA,MAAM,CAACE,aAAY,KAAM,IAAI,CAACxB,qBAAoB,IAClDsB,MAAM,CAACM,WAAU,KAAM,IAAI,CAAC3B,mBAAkB;MAElD,CAAC,CAAC;IACJ,CAAC;IACD+B,UAAUA,CAACV,MAAM,EAAE;MACrB;MACA,IAAI,CAACd,MAAM,CAACyB,MAAM,CAAC,YAAY,EAAEX,MAAM,CAAC;MACxC;MACA,IAAI,CAACY,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;IAC5B;EACE,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR1B,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC0B,aAAa,CAAC;IACjD;IACA,IAAI,CAAC7B,MAAM,CAAC8B,QAAQ,CAAC,cAAc,CAAC;EACtC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}