{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-74c0031f\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"bg\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center animate__animated animate__zoomIn\"\n}, \"Programs\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"filters pb-5\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"location\",\n  class: \"px-3\"\n}, \"Filter by location:\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"\"\n}, \"All Locations\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"location\",\n  class: \"px-3\"\n}, \"Sort by:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"search\",\n  class: \"px-3\"\n}, \"Search:\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"card-container\"\n};\nconst _hoisted_10 = {\n  class: \"card-img\"\n};\nconst _hoisted_11 = [\"href\"];\nconst _hoisted_12 = [\"src\"];\nconst _hoisted_13 = {\n  class: \"card-details\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"view-more-button\"\n}, \"View More\", -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 1\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"view-more-button\"\n}, \"Log in to view more\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Spinner = _resolveComponent(\"Spinner\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" FILTER \"), _hoisted_4, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedLocation = $event)\n  }, [_hoisted_5, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.locations, location => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: location\n    }, _toDisplayString(location), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.selectedLocation]]), _createCommentVNode(\" SORT BY \"), _hoisted_6, _createElementVNode(\"button\", {\n    class: \"sort-button mx-3\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleSortOrder && $options.toggleSortOrder(...args))\n  }, \"Program Name \" + _toDisplayString($data.sortOrder), 1 /* TEXT */), _createCommentVNode(\" SEARCH \"), _hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    id: \"search\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchQuery = $event),\n    type: \"text\",\n    placeholder: \"Search programs...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), $options.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_Spinner)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.sortedPrograms, program => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card\",\n      key: program.id\n    }, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"a\", {\n      href: program.photoLink,\n      target: \"_blank\"\n    }, [_createElementVNode(\"img\", {\n      src: program.imgURL\n    }, null, 8 /* PROPS */, _hoisted_12)], 8 /* PROPS */, _hoisted_11)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"h2\", null, _toDisplayString(program.Location), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(program.ProgramName), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(program.Period), 1 /* TEXT */), _createCommentVNode(\" <p>{{ program.ProgramDescription }}</p> \"), _ctx.authenticated ? (_openBlock(), _createBlock(_component_router_link, {\n      key: 0,\n      to: {\n        name: 'program',\n        params: {\n          id: program.ID\n        }\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_14]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createVNode(_component_router_link, {\n      to: \"/registration\"\n    }, {\n      default: _withCtx(() => [_hoisted_16]),\n      _: 1 /* STABLE */\n    })]))])]);\n  }), 128 /* KEYED_FRAGMENT */))]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","value","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createCommentVNode","_hoisted_4","$data","selectedLocation","$event","_hoisted_5","_Fragment","_renderList","$options","locations","location","key","_toDisplayString","_hoisted_6","onClick","_cache","args","toggleSortOrder","sortOrder","_hoisted_7","id","searchQuery","type","placeholder","loading","_hoisted_8","_createVNode","_component_Spinner","_hoisted_9","sortedPrograms","program","_hoisted_10","href","photoLink","target","src","imgURL","_hoisted_13","Location","ProgramName","Period","_ctx","authenticated","_createBlock","_component_router_link","to","name","params","ID","_hoisted_14","_hoisted_15","_hoisted_16"],"sources":["C:\\Users\\Thabang\\BookingAir\\ui\\src\\components\\Programs.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg\">\r\n    <h1 class=\"text-center animate__animated animate__zoomIn\">Programs</h1>\r\n    <div class=\"filters pb-5\">\r\n      <!-- FILTER -->\r\n      <label for=\"location\" class=\"px-3\">Filter by location:</label>\r\n      <select v-model=\"selectedLocation\">\r\n        <option value=\"\">All Locations</option>\r\n        <option v-for=\"location in locations\" :key=\"location\">{{ location }}</option>\r\n      </select>\r\n      \r\n      <!-- SORT BY -->\r\n      <label for=\"location\" class=\"px-3\">Sort by:</label>\r\n      <button class=\"sort-button mx-3\" @click=\"toggleSortOrder\">Program Name {{ sortOrder }}</button>\r\n      \r\n      <!-- SEARCH -->\r\n      <label for=\"search\" class=\"px-3\">Search:</label>\r\n      <input id=\"search\" v-model=\"searchQuery\" type=\"text\" placeholder=\"Search programs...\">\r\n    </div>\r\n    <div v-if=\"loading\">\r\n      <Spinner></Spinner>\r\n    </div>\r\n    <div v-else class=\"card-container\">\r\n      <div class=\"card\" v-for=\"program in sortedPrograms\" :key=\"program.id\">\r\n        <div class=\"card-img\">\r\n          <a :href=\"program.photoLink\" target=\"_blank\"><img :src=\"program.imgURL\" /></a>\r\n        </div>\r\n        <div class=\"card-details\">\r\n          <h2>{{ program.Location }}</h2>\r\n          <p>{{ program.ProgramName }}</p>\r\n          <p>{{ program.Period }}</p>\r\n          <!-- <p>{{ program.ProgramDescription }}</p> -->\r\n          <router-link v-if=\"authenticated\" :to=\"{ name: 'program', params: { id: program.ID } }\">\r\n            <button class=\"view-more-button\">View More</button>\r\n          </router-link>\r\n          <div v-else>\r\n            <router-link to=\"/registration\"><button class=\"view-more-button\">Log in to view more</button></router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Spinner from '../components/Spinner.vue'\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'Admin',\r\n  components: {\r\n    Spinner,\r\n  },\r\n  computed: {\r\n    // Map the 'authenticated' getter from Vuex store to a computed property\r\n    ...mapGetters(['authenticated']),\r\n\r\n    // Get the list of programs from the Vuex store\r\n    programs() {\r\n      return this.$store.state.programs;\r\n    },\r\n    loading() {\r\n      return this.$store.state.loading;\r\n    },\r\n\r\n    // Get a list of unique locations from the programs\r\n    locations() {\r\n      const locations = new Set();\r\n      for (const program of this.programs) {\r\n        locations.add(program.Location);\r\n      }\r\n      return Array.from(locations);\r\n    },\r\n\r\n    // Filter the programs by the selected location and search query\r\n    filteredPrograms() {\r\n      let filtered = this.programs;\r\n\r\n      // If a location is selected, filter by that location\r\n      if (this.selectedLocation) {\r\n        filtered = filtered.filter(program => program.Location === this.selectedLocation);\r\n      }\r\n\r\n      // If a search query is entered, filter by program name\r\n      if (this.searchQuery) {\r\n        const query = this.searchQuery.toLowerCase();\r\n        filtered = filtered.filter(program => program.ProgramName.toLowerCase().includes(query));\r\n      }\r\n      return filtered;\r\n    },\r\n\r\n    // Sort the filtered programs by program name\r\n    sortedPrograms() {\r\n      const sorted = [...this.filteredPrograms].sort((a, b) => a.ProgramName < b.ProgramName ? (this.sortOrder === 'ascending' ? -1 : 1) : (a.ProgramName > b.ProgramName ? (this.sortOrder === 'ascending' ? 1 : -1) : 0));\r\n      return sorted;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      selectedLocation: '',\r\n      sortOrder: '(ascending)',\r\n      searchQuery: '',\r\n    };\r\n  },\r\n\r\n  created() {\r\n  console.log('authenticated:', this.authenticated);\r\n  this.$store.commit('setLoading', true); // True will show the spinner\r\n  this.$store.dispatch('fetchPrograms').then(() => {\r\n    this.$store.commit('setLoading', false); // False will hide the spinner after the programs are fetched\r\n    this.loading = false; // Add this line to set loading to false\r\n  });\r\n},\r\n\r\n  methods: {\r\n    // Toggle the sort order between ascending and descending\r\n    toggleSortOrder() {\r\n      this.sortOrder = this.sortOrder === 'ascending' ? 'descending' : 'ascending';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n  font-family: 'Black Mango Medium';\r\n}\r\n\r\n.bg {\r\n  background: radial-gradient(circle, rgba(248, 248, 248, 1) 0%, rgb(193, 210, 232)100%);\r\n  letter-spacing: 0.1rem;\r\n  word-spacing: 0.2rem;\r\n  line-height: 40px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 50px;\r\n  font-size: 4rem;\r\n  padding-top: 70px;\r\n  color: rgb(27, 61, 102);\r\n}\r\n\r\n\r\n.card-container {\r\n  max-width: 1500px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 1.5rem;\r\n  padding: 0 2rem;\r\n  padding-bottom: 100px;\r\n}\r\n\r\n\r\n.card {\r\n  position: relative;\r\n  width: 400px;\r\n  height: auto;\r\n  overflow: hidden;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #6e91b3;\r\n  border: #6e91b3;\r\n}\r\n\r\n\r\n.card a {\r\n  display: block;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.card-details {\r\n  background-color: #6e91b3;\r\n}\r\n\r\n.card-img img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.5s ease-in-out;\r\n}\r\n\r\n.card-body {\r\n  padding: 1.5rem;\r\n  background-color: #6e91b3;\r\n}\r\n\r\nh2 {\r\n  margin-bottom: 0.5rem;\r\n  font-size: 2rem;\r\n  color: white;\r\n}\r\n\r\np {\r\n  margin-bottom: 1rem;\r\n  font-size: 1.2rem;\r\n  color: white;\r\n}\r\n\r\n.view-more-button {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n\r\n.view-more-button,\r\noption,\r\nselect,\r\n.sort-button {\r\n  padding: 0.5rem 1rem;\r\n  background-color: rgb(27, 61, 102);\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease-in-out;\r\n}\r\n\r\ninput {\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.view-more-button:hover {\r\n  background-color: rgb(55, 98, 151);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n\r\n  h1{\r\n    font-size: 3rem;\r\n  }\r\n  .card {\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  .filters {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n  label {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  select, input {\r\n    margin-bottom: 1rem;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}